"use strict";angular.module("libraryApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch","ngDialog"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/mainPage.html",controller:"MainpageCtrl"}).when("/logowanie",{templateUrl:"views/logowanie.html",controller:"LogowanieCtrl"}).when("/koszyk",{templateUrl:"views/koszyk.html",controller:"KoszykCtrl"}).when("/polityka-cookies",{templateUrl:"views/polityka_cookies.html",controller:""}).when("/books/:id",{templateUrl:"views/detailBook.html",controller:"DetailbookCtrl"}).when("/authors/:id",{templateUrl:"views/detailAuthod.html",controller:"DetailauthorCtrl"}).when("/wyd/:id",{templateUrl:"views/detailWyd.html",controller:"DetailwydCtrl"}).when("/users",{templateUrl:"views/detailUser.html",controller:"UsersCtrl"}).when("/users/:id",{templateUrl:"views/detailUser.html",controller:"DetailuserCtrl"}).when("/options/:type",{templateUrl:"views/options.html",controller:"OptionsCtrl"}).otherwise({redirectTo:"/"})}]).run(["$rootScope","appSettings","ngDialog","$location","dialogTemplates","Books",function(a,b,c,d,e,f){a.isAdmin=!1,a.isLibrarian=!1,a.search="",a.cookiesConfirmed=!1,a.url="App/",a.selectedToBorrow=[],a.user={};var g=function(){b.getAppSettings().then(function(b){console.log(b),a.appSettings=b},function(a){console.log(a)})};a.openPageInNewWindow=function(a){window.open(a)},a.openContactDialog=function(){h({template:e.contactDialog(),controller:"ContactdialogCtrl",event:"contactDialogEvent"})},a.openMapDialog=function(){h({template:e.mapDialog(),controller:"MapsCtrl",event:"mapDialogEvent"})},a.openEditUserDialog=function(){h({template:e.editUserDialog(),controller:"DetailuserCtrl",event:"editUser"})},a.openEditAdresDialog=function(){h({template:e.editAdresDialog(),controller:"DetailuserCtrl",event:"editAdres"})},a.errorDialog=function(a){h({template:'<div class="alert alert-danger">'+a+'</div><input type="button" value="Zamknij" class="btn btn-danger" ng-click="close()"/>',controller:"ErrorCtrl",event:"errorEvent"})},a.openAddCommentDialog=function(){h({template:e.addCommentDialog(),controller:"CommentsCtrl",event:"addComment"})},a.watchSearch=function(b){b.$watch("search",function(b,c){b!==c&&f.getSearchResults(b).then(function(b){b.success?(a.$broadcast("searchResults",b.data),d.path("/")):(console.log(b.msg),a.errorDialog(b.msg))},function(b){console.log(b),a.errorDialog(b)})})};var h=function(b){var d=c.open({template:b.template,plain:!0,controller:b.controller});a.$broadcast(b.event,{dialogId:d})};a.subscriber={email:""},a.subscribe=function(){console.log(a.subscriber.email),a.subscriber.email=""},g()}]),angular.module("libraryApp").controller("MainpageCtrl",["$rootScope","$scope","$location","Books",function(a,b,c,d){b.books=[],b.selectBook=function(a){c.path("/books/"+a)};var e=b.$on("searchResults",function(a,c){b.books=c});b.$on("$destroy",e);var f=function(){d.getAll().then(function(c){c.success?b.books=c.data:(console.log(c.msg),a.errorDialog(c.msg))},function(b){console.log(b),a.errorDialog("Coś poszło nie tak.")}),a.watchSearch(b)};f()}]),angular.module("libraryApp").controller("KoszykCtrl",["$scope","$rootScope","$location","Books",function(a,b,c,d){a.isEmpty=0===b.selectedToBorrow.length?!0:!1,a.clearBasket=function(){b.selectedToBorrow=[],c.path("/")},a.removeBook=function(a){for(var c=0;c<b.selectedToBorrow.length;c++)if(b.selectedToBorrow[c].id===a){b.selectedToBorrow.slice(c,1);break}},a.borrow=function(){var c=b.user.id,e=[];b.selectedToBorrow.forEach(function(a){e.push(a.id)}),d.borrowBooks(c,e).then(function(c){c.success?a.clearBasket():(console.log(c.msg),b.errorDialog(c.msg))},function(a){console.log(a),b.errorDialog("Coś poszło nie tak.")})},b.watchSearch(a)}]),angular.module("libraryApp").controller("LogowanieCtrl",["$scope","$rootScope","$location","Users",function(a,b,c,d){a.currentUser={login:"",domain:"",password:""},b.isAdmin="ADMIN"===b.user.typ?!0:!1,b.isLibrarian="BIBLIOTEKARZ"===b.user.typ?!0:!1,a.login=function(){b.isLogged=!0,b.user.login=a.currentUser.login+"@"+a.currentUser.domain,d.login({email:a.currentUser.login+"@"+a.currentUser.domain,pwd:a.currentUser.password}).then(function(a){a.success?(b.isLogged=!0,b.user=a.data,c.path("/")):(console.log(a.msg),b.errorDialog(a.msg))},function(a){console.log(a),b.errorDialog("Coś poszło nie tak.")})};var e=function(){b.isLogged&&c.path("/users/me"),b.watchSearch(a)};e()}]),angular.module("libraryApp").factory("appSettings",["$http",function(a){var b=function(){return a.get("mocks/appSettings.json")};return{getAppSettings:b}}]),angular.module("libraryApp").controller("ContactdialogCtrl",["$scope","ngDialog",function(a,b){var c=a.$on("editUser",function(b,c){a.dialogId=c.dialogId});a.$on("$destroy",c),a.msg={email:"",topic:"",content:""},a.close=function(){a.msg={email:"",topic:"",content:""},b.close(a.dialogId)},a.submit=function(){console.log(a.msg)}}]),angular.module("libraryApp").factory("dialogTemplates",function(){var a=function(){var a='<div><div class="input-group contact-dialog-inputs"><input type="email" placeholder="E-mail" class="form-control" ng-model="msg.email"/><input type="text" placeholder="Temat" class="form-control" ng-model="msg.topic"/><textarea placeholder="Wiadomość" class="form-control" rows="5" ng-model="msg.content"/></div><div class="contact-dialog-buttons"><div class="btn btn-success submit-button" ng-click="submit()" ng-disabled="!(msg.content && msg.topic && msg.email)">Wyślij</div><div class="btn btn-danger cancel-button" ng-click="close()">Anuluj</div></div></div>';return a},b=function(){var a="map template";return a},c=function(){var a='<div><input type="text" class="form-control" ng-model="editUser.email" placeholder="E-mail"/><input type="text" class="form-control" ng-model="editUser.nazwisko" placeholder="Nazwisko"/><input type="text" class="form-control" ng-model="editUser.imie" placeholder="Imię"/><input type="text" class="form-control" ng-model="editUser.komorka" placeholder="Telefon komórkowy"/><input type="text" class="form-control" ng-model="editUser.stacjonarny" placeholder="Telefon stacjonarny"/><input type="text" class="form-control" ng-model="editUser.typ" placeholder="Typ" ng-show="isAdmin && userId != \'me\'"><label ng-show="isAdmin && userId != \'me\'">Aktywny: </label><input type="checkbox" ng-model="editUser.typ"/ ng-show="isAdmin && userId != \'me\'"></div><div><input type="text" class="form-control" ng-model="editAdres.ulica" placeholder="Ulica"/><input type="text" class="form-control" ng-model="editAdres.numerDomu" placeholder="Numer domu"/><input type="text" class="form-control" ng-model="editAdres.numerMieszkania" placeholder="Numer mieszkania"/><input type="button" class="btn btn-default" value="Edytuj adres" ng-click="openEditAdresDialog()" ng-hide="true"/></div><input type="button" value="Update" ng-click="update()" class="btn btn-default"/><input type="button" value="Zamknij" ng-click="close(userDialogId)" class="btn btn-default" />';return a},d=function(){var a='<div><input type="text" placeholder="Szukaj adresu" ng-model="searchAddress" class="form-control/><input type="button"/><table class="table" ng-hide="addresses.length === 0"><thead><tr><td>Kod pocztowy</td><td>Miejscowosc</td><td>Kraj</td></tr></thead><tr ng-reapeat="address in addresses" ng-click="selectAddress(address.id)"><td>{{address.kodPocztowy}}</td><td>{{address.miejscowosc}}</td><td>{{address.kraj}}</td></tr></table></div>';return a},e=function(){var a='<div><textarea rows="4" ng-modal="content" maxlength="255" autofocus/><input type="submit" value="Save" class="btn btn-default" ng-click="save()"/><input type="button" value="Close" class="btn btn-default" ng-click="close()"/></div>';return a};return{contactDialog:a,mapDialog:b,editUserDialog:c,editAdresDialog:d,addCommentDialog:e}}),angular.module("libraryApp").controller("MapsCtrl",["$scope",function(a){var b=a.$on("mapDialogEvent",function(b,c){a.dialogId=c.dialogId});a.$on("$destroy",b)}]),angular.module("libraryApp").service("Books",["$http","$rootScope",function(a,b){var c="App/api.php";this.getAll=function(){return a.get(c+"/books")},this.getSelected=function(b){return a.get(c+"/books/id/"+b)},this.getSearchResults=function(b){return a.get(c+"/books/search/"+b)},this.borrowBooks=function(b,d){var e=new Date(Date.now()).toUTCString();return a.post(c+"/books/borrow",{uzytkownik:b,ksiazka:d,dataWypozyczenia:e,dataOddania:""})}}]),angular.module("libraryApp").controller("DetailbookCtrl",["$scope","$rootScope","Books","$location","$routeParams",function(a,b,c,d,e){a.detailBook={},a.isColapsedAuthors=!1,a.isColapsedWyd=!1,a.isShown=!1,a.colapsedAuthors=function(){a.isColapsedAuthors=!a.isColapsedAuthors,a.isColapsedWyd=!1,a.isShown=!1},a.colapsedWyd=function(){a.isColapsedWyd=!a.isColapsedWyd,a.isShown=!1,a.isColapsedAuthors=!1},a.showComments=function(){a.isShown=!a.isShown,a.isColapsedAuthors=!1,a.isColapsedWyd=!1},a.selectAuthor=function(){},a.selectWyd=function(){},a.borrowBook=function(a){b.selectedToBorrow.push(a),d.path("/")};var f=function(){c.getSelected(e.id).then(function(c){c.success?a.detailBook=c.data[0]:(console.log(c.msg),b.errorDialog(c.msg))},function(a){console.log(a),b.errorDialog("Coś poszło nie tak.")}),b.watchSearch(a)};f()}]),angular.module("libraryApp").controller("DetailauthorCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("libraryApp").controller("DetailwydCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("libraryApp").service("Users",["$rootScope","$http",function(a,b){var c="App/api.php";this.login=function(a){return b.post(c+"/login",a)},this.logout=function(){return b.get(c+"/logout")},this.getUserDetails=function(a){return b.get(c+"/users/id/"+a)},this.getAllUsers=function(){return b.get(c+"/users")},this.updateUser=function(a,d){return b.put(c+"/users/update",{user:a,address:d})}}]),angular.module("libraryApp").controller("DetailuserCtrl",["$rootScope","$scope","$location","$routeParams","Users","Address","ngDialog",function(a,b,c,d,e,f,g){a.isLogged||c.path("/logowanie"),b.userId=d.id;var h=b.$on("contactDialogEvent",function(a,c){b.userDialogId=c.dialogId}),i=b.$on("contactDialogEvent",function(a,c){b.adresDialogId=c.dialogId});b.selectAddress=function(a){b.editUser.kodPocztowy=a,b.close(b.adresDialogId),b.searchAddress="",b.addresses=[]},b.isShown=!1,b.showComments=function(){b.isShown=!b.isShown},b.update=function(){e.updateUser(b.editUser,b.editAdres).then(function(a){a.success?(b.close(b.userDialogId),b.editUser={},b.editAdres={}):console.log(a.msg)},function(b){console.log(b),a.errorDialog("Coś poszło nie tak.")})},b.searchAddress="",b.addresses=[],b.$watch("searchAddress",function(c){f.searchAdress(c).then(function(c){c.success?b.addresses=c.data:(console.log(c.msg),a.errorDialog(c.msg))},function(b){console.log(b),a.errorDialog("Coś poszło nie tak.")}),console.log(b.addresses)}),b.$on("$destroy",h),b.$on("$destroy",i),b.editUser={},b.editAdres={},b.currectUser={},b.update=function(){},b.close=function(a){g.close(a)},b.options=function(a){a?c.path("/options/admin"):c.path("/options/bibliotekarz")},b.logout=function(){e.logout().then(function(b){b.success?(a.isLogged=!1,a.user={},c.path("/logowanie"),console.log(b.msg)):(console.log(b.msg),a.errorDialog(b.msg))},function(b){console.log(b),a.errorDialog("Coś poszło nie tak.")})};var j=function(){var c=null;c="me"===d.id?a.user.id:d.id,e.getUserDetails(c).then(function(c){c.success?b.currectUser=c.data:(console.log(c.msg),a.errorDialog(c.msg))},function(b){console.log(b),a.errorDialog("Coś poszło nie tak.")}),a.watchSearch(b)};j()}]),angular.module("libraryApp").controller("UsersCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("libraryApp").service("Address",["$rootScope","$http",function(a,b){var c="App/api.php";this.searchAdress=function(a){return b.get(c+"adress/search/"+a)}}]),angular.module("libraryApp").controller("ErrorCtrl",["$rootScope","$scope","ngDialog","$window","$location",function(a,b,c,d,e){var f=b.$on("errorEvent",function(a,c){b.dialogId=c.dialogId});b.$on("$destroy",f),b.close=function(){c.close(b.dialogId),e.path("/"),d.location.reload()}}]),angular.module("libraryApp").controller("OptionsCtrl",["$scope","$rootScope","$routeParams","$location","Users",function(a,b,c,d,e){a.userType="admin"===c.type?!0:!1,console.log(a.userType),a.users=[],a.searchResult="",a.select=function(a){d.path(/users/+a)};var f=function(){e.getAllUsers().then(function(c){c.success?a.users=c.data:(console.log(c.msg),b.errorDialog(c.msg))},function(a){console.log(a),b.errorDialog("Coś poszło nie tak.")}),b.watchSearch(a)};f()}]),angular.module("libraryApp").controller("MessagesCtrl",[function(){}]),angular.module("libraryApp").service("Messages",["$rootScope","$http",function(a,b){var c="App/api.php";this.send=function(a){return b.post(c+"/messages",a)},this.getAll=function(){return b.get(c+"/messages")},this.getDetail=function(a){return b.get(c+"/messages/id/"+a)}}]),angular.module("libraryApp").service("Comments",["$rootScope","$http",function(a,b){var c="App/api.php";this.createComment=function(a){return b.post(c+"/comments",a)},this.getAllCommentsByBook=function(a){return b.get(c+"/comments/book/id/"+a)},this.getAllCommentsByUser=function(a){return b.get(c+"/comments/user/id/"+a)}}]),angular.module("libraryApp").controller("CommentsCtrl",["$rootScope","$scope","Comments","$location","$routeParams","ngDialog",function(a,b,c,d,e,f){b.selectBook=function(a){d.path("/books/"+a)};var g=b.$on("addComment",function(a,c){b.dialogId=c.dialogId});b.$on("$destroy",g),b.comments=[],b.content="",b.save=function(){c.createComment({uzytkownik:a.user.id,data:Date.now(),tekst:b.content,ksiazka:e.id}).then(function(c){c.success?(b.content="",b.close(b.dialogId)):(console.log(c.msg),a.errorDialog("Coś poszło nie tak."))},function(b){console.log(b),a.errorDialog("Coś poszło nie tak.")})},b.close=function(){f.close(b.dialogId)};var h=function(){var f=null;if(-1!==d.path().indexOf("/users/"))f=c.getAllCommentsByUser(a.user.id);else{if(-1===d.path().indexOf("/books/"))return;f=c.getAllCommentsByUser(e.id)}f.then(function(c){c.success?b.comments=c.data:(console.log(c.msg),a.errorDialog("Coś poszło nie tak."))},function(b){console.log(b),a.errorDialog("Coś poszło nie tak.")})};h()}]),angular.module("libraryApp").filter("date",function(){return function(a){return new Date(a).toUTCString()}}),angular.module("libraryApp").run(["$templateCache",function(a){a.put("views/detailAuthod.html",""),a.put("views/detailBook.html",'<div class="detail-book-container"> <input type="Button" value="Wypożycz" ng-click="borrowBook(detailBook)" class="btn btn-default" ng-show="isLogged"> <div class="book-detail"> <div class="image-container"> <img ng-src="detailBook.avatarUrl"> </div> <div class="title"> <label>Tytul: </label><span>{{detailBook.tytul}}</span> </div> <div class="isbn"> <label>ISBN: </label><span>{{detailBook.isbn}}</span> </div> <div class="stars"> <i class="fa fa-star fa-4x"></i> <span>{{detailBook.stars}}</span> </div> </div> <div class="buttons-container"> <div ng-click="colapsedWyd()" class="title"> <span>Wydawnictwo</span> </div> <div ng-click="colapsedAuthors()" class="title"> <span>Autorzy</span> </div> <div ng-click="showComments()" class="title"> <span>Komentarze</span> </div> </div> <div class="colapsed-list"> <div ng-show="isColapsedWyd" ng-click="selectWyd(detailBook.book_wyd.id)" class="content wyd"> <div> <label>Nazwa: </label><span>{{detailBook.book_wyd.Nazwa}}</span> </div> <div> <label>Kraj: </label><span>{{detailBook.book_wyd.kraj}}</span> </div> </div> </div> <div class="colapsed-list"> <div ng-show="isColapsedAuthors" class="content"> <div ng-repeat="author in detailBook.authors" ng-click="selectAuthor(author.id)" class="content-row"> <div> <label>Imie: </label><span>{{author.imie}}</span> </div> <div> <label>nazwisko: </label><span>{{author.nazwisko}}</span> </div> <div> <label>kraj: </label><span>{{author.kraj}}</span> </div> <div> <label>powiazanie: </label><span>{{author.nazwaPowiazania}}</span> </div> </div> </div> </div> <!--comments--> <div class="colapsed-list"> <div ng-show="isShown" class="content"> <input value="Dodaj komentarz" type="button" ng-click="openAddCommentDialog()" class="btn btn-default" ng-show="isLogged"> <div ng-controller="CommentsCtrl"> <div ng-repeat="comment in comments" class="content-row comments"> <div>{{comment.imie}}</div> <div>{{comment.nazwisko}}</div> <div>{{comment.data | date}}</div> <textarea readonly cols="30" rows="4">{{comment.tekst}}</textarea> </div> </div> </div> </div> </div>'),a.put("views/detailUser.html",'<div class="detail-user-container"> <input type="button" value="Wyloguj" ng-click="logout()" class="btn btn-default"> <input type="button" value="Edytuj" ng-click="openEditUserDialog()" class="btn btn-default"> <input type="button" value="Opcje administracyjne" ng-click="options(true)" class="btn btn-default" ng-show="isAdmin"> <input type="button" value="Opcje bibliotekarza" ng-click="options(false)" class="btn btn-default" ng-show="isLibrarian"> <div class="user-details"> <img ng-src="currectUser.avatar"> <div> <div> <label>E-mail: </label><span>{{currectUser.email}}</span> </div> <div> <label>Nazwisko: </label><span>{{currectUser.nazwisko}}</span> </div> <div> <label>Imie: </label><span>{{currectUser.imie}}</span> </div> <div> <label>Telefon komórkowy: </label><span>{{currectUser.komorka}}</span> </div> <div> <label>Telefon stacjonarny: </label><span>{{currectUser.stacjonarny}}</span> </div> <div> <label>Opłaty: </label><span>{{currectUser.debet | currency : ""}} PLN</span> </div> </div> <div> <div> <label>Ulica: </label><span>{{currectUser.ulica}}</span> </div> <div> <label>Numer domu: </label><span>{{currectUser.numerDomu}}</span> </div> <div> <label>Numer mieszkania: </label><span>{{currectUser.numerMieszkania}}</span> </div> <div> <label>Kod pocztowy: </label><span>{{currectUser.kodPocztowy}}</span> </div> <div> <label>Miejscowosc: </label><span>{{currectUser.miejscowosc}}</span> </div> <div> <label>Kraj: </label><span>{{currectUser.kraj}}</span> </div> </div> </div> <!--comments--> <div class="buttons-container"> <div ng-click="showComments()" class="title"> <span>Komentarze</span> </div> </div> <div ng-show="isShown" class="colapsed-list"> <div ng-controller="CommentsCtrl"> <div ng-repeat="comment in comments" ng-click="selectBook(comment.book.id)" class="content-row comments"> <span>{{comment.tytul}}</span> <span>{{comment.data | date}}</span> <textarea readonly cols="30" rows="4">{{comment.tekst}}</textarea> </div> </div> </div> </div>'),a.put("views/detailWyd.html",""),a.put("views/koszyk.html",'<div ng-hide="isEmpty"> <input type="Button" ng-click="clearBasket()" value="Opróżnij koszyk" class="btn btn-default"> <input type="Button" ng-click="borrow()" value="Wypożycz" class="btn btn-default" ng-show="isLogged"> <div ng-repeat="book in selectedToBorrow" class="basket-row"> <img ng-src="book.avatarUrl"> <div class="title">{{book.tytul}}</div> <span ng-click="removeBook(book.id)" i class="fa fa-times fa-2x"></span> </div> </div> <div ng-hide="!isEmpty" class="empty-basket alert alert-info">Twój koszyk jest pusty</div>'),a.put("views/logowanie.html",'<div class="container-fluid logowanie-main" ng-if="!isLogged"> <label>Logowanie</label> <div class="row"> <div class="input-group"> <input type="text" placeholder="Login" class="form-control" ng-model="currentUser.login"> <span class="input-group-addon">@</span> <input type="text" placeholder="Domena" class="form-control" ng-model="currentUser.domain"> </div> </div> <div class="row"> <input type="password" placeholder="Hasło" class="form-control" ng-model="currentUser.password"> </div> <div class="row"> <input type="submit" value="Zaloguj" class="btn btn-success" ng-click="login()"> </div> </div>'),a.put("views/mainPage.html",'<div class="list-book-conteiner"> <div ng-repeat="book in books" ng-click="selectBook(book.id)" class="book"> <img ng-src="book.avatarUrl"> <div class="title">{{book.tytul}}</div> <div class="stars"> <i class="fa fa-star fa-4x"></i> <span>{{book.stars}}</span> </div> </div> </div>'),a.put("views/options.html",'<div class="user-list-container"> <input type="text" pleaceholder="Szukaj" ng-modal="searchResult" class="form-control"> <div class="user-list"> <div ng-repeat="user in users" ng-click="select(user.id)" ng-show="userType || user.typ === \'UZYTKOWNIK\'" class="user-row"> <img ng-src="user.avatar"> <div> <label>Imię: </label><span>{{user.imie}}</span> </div> <div> <label>Nazwisko: </label><span>{{user.Nazwisko}}</span> </div> <div> <label>E-mail: </label><span>{{user.email}}</span> </div> <div> <label>Typ: </label><span>{{user.typ}}</span> </div> <div> <label>Aktywny: </label><span><i class="fa" ng-class="{\'fa-check-square-o\': user.aktywny, \'fa-square-o\': !user.aktywny}"></i></span> </div> </div> </div> </div>'),a.put("views/polityka_cookies.html","Polityka cookies"),a.put("views/templates/pageTemplate.html",'<!--navbar--> <nav class="navbar navbar-default navbar-main"> <div class="container-fluid"> <div class="navbar-header"> <div class="navbar-brand title"> <a ng-href="#/"> <span>Biblioteka</span> </a> </div> </div> <div class="navbar-form navbar-left"> <div class="input-group"> <input type="text" class="form-control" placeholder="Search" ng-model="search"> <span class="input-group-addon"> <i class="fa fa-search fa-1x"></i> </span> </div> </div> <div class="navbar-text navbar-left"> <div> <i class="fa fa-phone small"></i> <span>44 444 444 444</span> </div> <div ng-click="openContactDialog()" ng-hide="true"> <i class="fa fa-at"></i> <span>Napisz do nas</span> </div> <div ng-click="openMapDialog()" ng-hide="true"> <i class="fa fa-map-pin"></i> <span>Gdzie nas znajdziesz</span> </div> </div> <div class="navbar-text navbar-right"> <a ng-href="#/koszyk" class="table"> <i class="fa fa-shopping-basket fa-2x"></i> <div class="counter">{{selectedToBorrow.length}}</div> </a> </div> <div class="navbar-text navbar-right"> <a ng-href="#/logowanie" class="table"> <i class="fa fa-user fa-2x"></i> <span ng-hide="isLogged">Zaloguj się</span> <span ng-show="isLogged" ng-bind="user.email"></span> </a> </div> </div> </nav> <!--navbar--> <!--main view--> <main ng-view class="main-view"></main> <!--main view--> <!--footer--> <footer class="navbar navbar-default footer-main" ng-show="false"> <div class="navbar-form navbar-left"> <div class="input-group"> <input type="email" class="form-control" placeholder="E-mail" ng-model="subscriber.email"> <span class="input-group-addon" ng-click="subscribe()"> <i class="fa fa-paper-plane"></i> </span> </div> </div> <div> <div class="navbar-text navbar-right" ng-click="openPageInNewWindow(appSettings.googlePlus)"> <span class="fa-stack fa-lg google-plus"> <!--<i class="fa fa-circle fa-stack-2x fa-inverse"></i>--> <i class="fa fa-google-plus fa-stack-1x"></i> </span> </div> <div class="navbar-text navbar-right" ng-click="openPageInNewWindow(appSettings.twitter)"> <span class="fa-stack fa-lg twitter"> <!--<i class="fa fa-circle fa-stack-2x fa-inverse"></i>--> <i class="fa fa-twitter fa-stack-1x"></i> </span> </div> <div class="navbar-text navbar-right" ng-click="openPageInNewWindow(appSettings.facebook)"> <span class="fa-stack fa-lg facebook"> <!--<i class="fa fa-circle fa-stack-2x fa-inverse dupa2"></i>--> <i class="fa fa-facebook fa-stack-1x dupa"></i> </span> </div> </div> </footer> <!--footer--> <!--cookies information block--> <section class="cookies" ng-hide="cookiesConfirmed"> <i class="fa fa-lock"></i> <span>Ta witryna korzysta z plików cookies w celu realizacji usług zgodnie z <a ng-href="#/polityka-cookies">polityką plików cookies</a>.</span> <input type="button" class="btn btn-default cookies-confirm" value="OK, zamknij" ng-click="cookiesConfirmed = true"> </section> <!--cookies information block-->')}]);